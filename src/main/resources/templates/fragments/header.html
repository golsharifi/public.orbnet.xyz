<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <style>
        .header-container {
            display: block !important;
            width: 100% !important;
            margin-bottom: 32px !important;
            text-align: left !important;
            direction: ltr !important;
        }

        .logo-section {
            display: block !important;
            margin-bottom: 24px !important;
            width: 48px !important;
            height: 40px !important;
        }

        .logo-section img {
            width: 48px !important;
            height: 40px !important;
            max-width: 48px !important;
            max-height: 404px !important;
            display: block !important;
            object-fit: contain !important;
        }

        .greeting {
            font-size: 16px !important;
            line-height: 1.6 !important;
            margin-top: 32px !important;
            color: #333333 !important;
            display: block !important;
            visibility: visible !important;
        }

        [dir="rtl"] .header-container {
            text-align: right !important;
            direction: rtl !important;
        }

        [dir="rtl"] .greeting {
            text-align: right !important;
            direction: rtl !important;
            font-family: Tahoma, Arial, sans-serif !important;
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .greeting {
                color: #ffffff !important;
            }
        }
    </style>
</head>
<body>
<div th:fragment="header(userName)">
    <table cellpadding="0" cellspacing="0" border="0" width="100%">
        <tr>
            <td>
                <div class="header-container"
                     th:dir="${#locale.language == 'ar' || #locale.language == 'fa' || #locale.language == 'he' ? 'rtl' : 'ltr'}">
                    <div class="logo-section">
                        <img src="cid:logo"
                             width="48"
                             height="40"
                             style="width: 48px !important; height: 40px !important; max-width: 48px !important; max-height: 40px !important;"
                             alt="OrbVPN Logo"
                             th:alt="#{email.logo.alt}">
                    </div>
                    <div class="greeting">
                            <span th:if="${userName != null && userName.contains('@')}"
                                  th:text="#{email.greeting(${userName})}">
                                Dear user@example.com,
                            </span>
                        <span th:if="${userName != null && !userName.contains('@')}"
                              th:text="#{email.greeting(${userName})}">
                                Dear User,
                            </span>
                        <span th:if="${userName == null}"
                              th:text="#{email.greeting.generic}">
                                Hello,
                            </span>
                    </div>
                </div>
            </td>
        </tr>
    </table>
</div>
</body>
</html>
